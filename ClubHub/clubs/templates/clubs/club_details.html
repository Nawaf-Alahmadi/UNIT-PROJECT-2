{% extends 'main/base.html' %}

{% block title %} Clubs {% endblock %}

{% block content %}
  <!-- {{club_details.leader}} -->
  <!-- {% if user.id == club_details.leader.id  %}  later when modify -->
  <!-- {% endif %} -->
  <section class="sec club-details-sec table-style">
    <div class="container">
      <section class="all-info">
        <div class="club">
          <div class="img"><img src="{{club_details.image.url}}" alt=""></div>
          <div class="info">
            <div class="name">Club Name: {{club_details.name}}</div>
            <div class="description">Club Description: {{club_details.description}}</div>
            <div class="leader">Leader:  {{club_details.leader}}</div>
          </div>
          <div class="buttons">
            {% if not request.user.is_staff and request.user.is_authenticated %}
            <a href="{% url 'clubs:join_club_view' club_details.id  %}" class="join">Request to join</a>
            {% endif %}
              {% if user.id == club_details.leader.id  %}  
              <a href="{% url 'clubs:modify_club_view' club_details.id  %}" class="modify">Modify</a>
              {% endif %}
          </div>
        </div>
      </section>
      <section class="sec members-sec">
        <div class="container">
          <h2 class="section-header">Members</h2>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Email</th>
                </tr>
              </thead>
              <tbody>
                {% for member in members_of_club %}
                <tr>
                  <td>{{member.first_name}}</td>
                  <td>{{member.last_name}}</td>
                  <td>{{member.email}}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>

        </div>
      </section>
    </div>
  </section>
{% endblock %}